<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop - Cookie Clicker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Boutique d'Am√©liorations üõí</h1>

    <!-- Affichage du score actuel -->
    <div id="current-score">Votre score : <span id="score">0</span></div>

    <!-- Am√©lioration : Multiplicateur de clics -->
    <div class="shop-item" id="multiplier-upgrade">
        <h2>Multiplicateur de Clics</h2>
        <p>Augmentez votre multiplicateur de clics par 2.</p>
        <p>Prix : <span id="multiplier-price">900</span> üç™</p>
        <button id="buy-multiplier">Acheter</button>
    </div>

    <!-- Am√©lioration : Autoclicker -->
    <div class="shop-item" id="autoclicker-upgrade">
        <h2>Autoclicker</h2>
        <p>Activez un autoclicker qui clique automatiquement toutes les 5 secondes.</p>
        <p>Prix : <span id="autoclicker-price">75</span> üç™</p>
        <button id="buy-autoclicker">Acheter</button>
    </div>
    <!-- Bouton pour retourner au jeu -->
    <button id="back-button" onclick="window.location.href='index.html'">Retour au Jeu</button>

    <script>
        // R√©cup√©rer les donn√©es depuis le localStorage
        let count = localStorage.getItem("clickerScore") ? parseInt(localStorage.getItem("clickerScore")) : 0;
        let multiplier = localStorage.getItem("clickerMultiplier") ? parseInt(localStorage.getItem("clickerMultiplier")) : 1;
        let autoclickerEnabled = localStorage.getItem("autoclickerEnabled") === "true";

        // R√©cup√©rer le prix actuel du multiplicateur depuis le localStorage
        let multiplierPrice = localStorage.getItem("multiplierPrice") ? parseInt(localStorage.getItem("multiplierPrice")) : 50;
        let autoclickerPrice = 75; // Le prix de l'autoclicker reste fixe

        // Afficher le score actuel
        document.getElementById("score").textContent = count;

        // Mettre √† jour les prix affich√©s
        document.getElementById("multiplier-price").textContent = multiplierPrice;
        document.getElementById("autoclicker-price").textContent = autoclickerPrice;

        // Gestion de l'achat du multiplicateur
        document.getElementById("buy-multiplier").addEventListener("click", function() {
            if (count >= multiplierPrice) {
                count -= multiplierPrice;
                multiplier *= 2; // Double le multiplicateur
                multiplierPrice *= 2; // Double le prix pour la prochaine am√©lioration

                // Mettre √† jour le localStorage
                localStorage.setItem("clickerScore", count);
                localStorage.setItem("clickerMultiplier", multiplier);
                localStorage.setItem("multiplierPrice", multiplierPrice);

                // Mettre √† jour l'affichage
                document.getElementById("score").textContent = count;
                document.getElementById("multiplier-price").textContent = multiplierPrice;
                alert("Multiplicateur de clics am√©lior√© !");
            } else {
                alert("Vous n'avez pas assez de cookies !");
            }
        });

        // Gestion de l'achat de l'autoclicker
        document.getElementById("buy-autoclicker").addEventListener("click", function() {
            if (count >= autoclickerPrice && !autoclickerEnabled) {
                count -= autoclickerPrice;
                autoclickerEnabled = true;

                // Mettre √† jour le localStorage
                localStorage.setItem("clickerScore", count);
                localStorage.setItem("autoclickerEnabled", "true");

                // D√©sactiver le bouton apr√®s l'achat
                document.getElementById("buy-autoclicker").disabled = true;
                alert("Autoclicker activ√© !");
            } else if (autoclickerEnabled) {
                alert("Vous avez d√©j√† achet√© l'autoclicker !");
            } else {
                alert("Vous n'avez pas assez de cookies !");
            }
        });

        // D√©sactiver le bouton de l'autoclicker si d√©j√† achet√©
        if (autoclickerEnabled) {
            document.getElementById("buy-autoclicker").disabled = true;
        }
    </script>
</body>
</html>